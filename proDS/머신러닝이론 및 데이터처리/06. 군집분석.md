# 군집분석

keywords

#병합적방법#단일연결법
#완전연결법#평균연결법#중심연결법
#와드연결법#덴드로그램

## 군집분석이란

- 비지도학습(y없이 특성변수 k만 가지고 자료 탐색, 분석에 용이한 형태로 변형, 데이터 정보를 얻는 목적으로 활용), ( = 차원분석, 비지도학습, 추천시스템)
- 어떤 개체나 대상들을 밀접한 유사성(similarity) 또는 비유사성(dissimilarity)에 의하여 유사한 특성을 지닌 개체들을 몇개의 군집으로 집단화하는 비지도학습법.
- 각 군집의 특성, 군집간의 차이 등에 대한 탐색 대상으로, 집단에 대한 심화된 이해가 목적.
- 특이 군집의 발견, 결측값의 보정 등에도 사용될 수 있음.

## 군집의 조건

- 동일 군집에 속한 개체끼리는 유사한 속성이 매우 많음
- 다른 군집에 속하는 개체끼리는 유사한 속성이 매우 적음

## 계층적 군집분석 개요

- 병합적(agglomerative) vs 분할적(divisive)
  - 병합적: 개체간 거리가 가까운 개체끼리 차례로 묶어주는 방법으로 군집을 정의.
  - 분할적: 개체간 거리가 먼 개체끼리 나누어가는 방법으로 군집을 정의.
  - 계층적 군집 분석에서는 병합적 방법이 주로 사용됨.

## 개체간 거리 및 군집 간 거리의 정의

- 개체간거리를 군집분석에 활용함
  -유클리디안거리 : 실제 물리적인 거리를 계산한 것
  -맨해튼거리
  -민코우스키거리
- 군집간거리
  -단일연결법(최단연결법, single linkage) : 각 군집에 개체들이 만들어내는 거리 중 가장 짧은 거리(최소값)
  -완전연결법(최장연결법, complete linkage) : 각 군집에 개체들이 만들어내는 거리 중 가장 긴 거리(최대값)
  -평균연결법(average linkage) : 각 군집에 개체들이 만들어내는 거리의 평균(평균값)
  -중심연결법(centroid linkage) : 각 군집의 개체 평균을 구하고 그 평균간의 거리
  -ward 연결방법(ward linkage) : 각 군집의 중심(a-1, b-1)을구하고, 중심과 개체간의 거리의 제곱합(SSE1, 2)을 더한 이후, 두 군집이 합쳐졌을때의 중심값(abtotal)을 구하고 그 중심값(abtotal)과 각 개체간의 거리 제곱합(SEE pooled)의 차이를 비교하여 거리를 측정함, 변동성이 있어 많이 활용 됨



# 비계층적 군집분석

keywords : #K평균군집분석 #군집오차제곱합(SSE) #Elbow차트



## K-평균 군집분석 개요

- K-평균군집분석
  - 사전에 결정된 군집 수 k에 기초하여, 전체 데이터를 상대적으로 유사한 k 개의 군집으로 구분
  - 계층적 방식에 비하여 계산량이 적고, 대용량 데이터를 빠르게 처리함.
  - 사전에 적절한 군집수 k 에 대한 예상이 필요.
  - 초기에 군집 중심이 어디로 지정 되는지에 따라 최종 결과가 영향을 많이 받음.
  - 잡음이나 이상치의 영향을 많이 받음.
- K-평균 군집분석 알고리즘
  - 개체를 k 개의 초기군집으로 나눈다.
  - 각 군집의 중심(centroid)을 계산한 뒤 모든 개체들을 각 군집의 중심에 가장 가까운 군집에 할당 시킨다.
  - 새로운 개체를 받아들이거나 잃은 군집의 중심을 다시 계산한다.
  - 위 과정을 더 이상의 재배치가 생기지 않을 때까지 반복한다.
- K-평균군집분석 (k -means clustering Method) 예시
  - ①임의로𝑘=2 개의군집(AB), (CD)로분할.
  - ②각군집의중심을계산.
    (AB)의중심: 𝑥1=2, 𝑥2=2
    (CD)의중심: 𝑥1=−1, 𝑥2=−2
  - ③각개체에대하여, 각군집중심과의거리를계산.
  - ④B는군집(CD)에더가까우므로, B를(CD)에통합하여
  - ⑤다시군집의중심값계산
  - ⑥군집중심에서각개체간의거리를계산
  - ⑦다른군집중심에더가까운개체가없으므로종료.
    최종군집은(A)와(BCD)가됨.
- K-평균 군집분석에서 적절한 군집 수의 결정
  - 오차제곱합(SSE, sum of squared error)
    -각 군집내 개체들과 해당 군집 중심점과의 거리를 제곱한 값들의 합.
    -오차 제곱합이 작을수록 군집내 유사성이 높아 잘 응집된 것임.
  - 군집수 k에 따른 SSE의 변화를 Elbow 차트로 시각화 한 뒤, SSE가 급격히 감소하다가 완만해지기 시작하는 시점의 k를 적정군집수로 판단함.

